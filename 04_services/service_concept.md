# μ„λΉ„μ¤(Service)λ€?

### β… μ„λΉ„μ¤(Service)λ€?

<aside>
π’΅ **[First Word λ²•μΉ™]**  
**μ„λΉ„μ¤(Service) : μ™Έλ¶€λ΅λ¶€ν„° μ”μ²­μ„ λ°›λ” μ—­ν•  / μ™Έλ¶€λ΅λ¶€ν„° λ“¤μ–΄μ¤λ” νΈλν”½μ„ λ°›μ•„, νλ“μ— κ· λ“±ν•κ² λ¶„λ°°ν•΄μ£Όλ” λ΅λ“λ°Έλ°μ„ μ—­ν• μ„ ν•λ” κΈ°λ¥**
</aside>

μ‹¤μ  μ„λΉ„μ¤μ—μ„ νλ“(Pod)μ— μ”μ²­μ„ λ³΄λ‚Ό λ•, ν¬νΈ ν¬μ›λ”©(`port-forward`)μ΄λ‚ νλ“ λ‚΄λ΅ μ§μ ‘ μ ‘κ·Ό(`kubectl exec β€¦`)ν•΄μ„ μ”μ²­μ„ λ³΄λ‚΄μ§€λ” μ•λ”λ‹¤. μΌλ°μ μΌλ΅ **μ„λΉ„μ¤(Service)**λΌλ” μ¤λΈμ νΈλ¥Ό ν†µν•΄ μ”μ²­μ„ λ³΄λ‚Έλ‹¤.

---

### β… μ„λΉ„μ¤(Service)κ°€ ν•„μ”ν• μ΄μ 

1.  **νλ“μ IPλ” μ λ™μ μ΄λ‹¤**: νλ“λ” μ¥μ• κ°€ λ°μƒν•λ©΄ μ–Έμ λ“  μ£½κ³  λ‹¤μ‹ μ‚΄μ•„λ‚  μ μλ‹¤. μ΄λ•λ§λ‹¤ νλ“μ IP μ£Όμ†λ” κ³„μ†ν•΄μ„ λ°”λ€λ‹¤. ν΄λΌμ΄μ–ΈνΈκ°€ λ§¤λ² λ°”λ€λ” IPλ¥Ό μ¶”μ ν•΄μ„ μ”μ²­μ„ λ³΄λ‚΄λ” κ²ƒμ€ λ¶κ°€λ¥ν•λ‹¤.
2.  **λ΅λ“ λ°Έλ°μ‹±μ΄ ν•„μ”ν•λ‹¤**: λ””ν”λ΅μ΄λ¨ΌνΈλ¥Ό ν†µν•΄ μ—¬λ¬ κ°μ νλ“λ¥Ό λ„μ› μ„ λ•, μ–΄λ ν• νλ“μ—λ§ μ”μ²­μ΄ λ°λ¦¬μ§€ μ•λ„λ΅ νΈλν”½μ„ κ³ λ¥΄κ² λ¶„μ‚°ν•΄ μ¤„ μ…κµ¬κ°€ ν•„μ”ν•λ‹¤.
3.  **λ‹¨μΌ μ§„μ…μ  μ κ³µ**: μ„λΉ„μ¤λ” μ—¬λ¬ νλ“λ¥Ό ν•λ‚μ κ·Έλ£ΉμΌλ΅ λ¬¶μ–΄ κ³ μ •λ IP(Cluster IP)μ™€ μ΄λ¦„μ„ μ κ³µν•λ‹¤. ν΄λΌμ΄μ–ΈνΈλ” νλ“μ κ°λ³„ IPκ°€ μ•„λ‹ μ„λΉ„μ¤μ κ³ μ •λ μ£Όμ†λ΅λ§ μ”μ²­μ„ λ³΄λ‚΄λ©΄ λλ‹¤.

---

### β… μ„λΉ„μ¤(Service)μ λ™μ‘ μ›λ¦¬

μ„λΉ„μ¤λ” **λ μ΄λΈ” μ…€λ ‰ν„°(Label Selector)**λ¥Ό μ‚¬μ©ν•μ—¬ μ–΄λ–¤ νλ“λ“¤μ—κ² νΈλν”½μ„ μ „λ‹¬ν• μ§€ κ²°μ •ν•λ‹¤.

```mermaid
graph LR
    User((μ‚¬μ©μ/ν΄λΌμ΄μ–ΈνΈ)) --> Service[Service: spring-service]
    
    subgraph "Kubernetes Cluster"
        Service -- "νΈλν”½ λ¶„μ‚° (Selector: app=backend-app)" --> Pod1
        Service -- "νΈλν”½ λ¶„μ‚°" --> Pod2
        Service -- "νΈλν”½ λ¶„μ‚°" --> Pod3
        
        subgraph "Pods"
            Pod1[Pod: backend-1<br/>(label: app=backend-app)]
            Pod2[Pod: backend-2<br/>(label: app=backend-app)]
            Pod3[Pod: backend-3<br/>(label: app=backend-app)]
        end
    end
```

- **κ³ μ •λ μ…κµ¬**: μ„λΉ„μ¤λ” νλ“κ°€ μ£½κ³  λ‹¤μ‹ μ‚΄μ•„λ‚λ„ λ³€ν•μ§€ μ•λ” κ³ μ •λ μ£Όμ†λ¥Ό κ°€μ§„λ‹¤.
- **μλ™ νƒμƒ‰**: μƒλ΅μ΄ νλ“κ°€ μƒμ„±λλ”λΌλ„ μ§€μ •λ λ μ΄λΈ”λ§ κ°€μ§€κ³  μλ‹¤λ©΄ μ„λΉ„μ¤κ°€ μλ™μΌλ΅ κ°μ§€ν•μ—¬ νΈλν”½ λ¶„μ‚° λ€μƒμ— ν¬ν•¨μ‹ν‚¨λ‹¤.

---

### β… μ£Όμ” μ„λΉ„μ¤ νƒ€μ… (λ―Έλ¦¬λ³΄κΈ°)

- **ClusterIP (κΈ°λ³Έκ°’)**: ν΄λ¬μ¤ν„° λ‚΄λ¶€μ—μ„λ§ μ ‘κ·Ό κ°€λ¥ν• IPλ¥Ό ν• λ‹Ήλ°›λ”λ‹¤. (μ„λ²„ λ‚΄λ¶€ ν†µμ‹ μ©)
- **NodePort**: λ¨λ“  λ…Έλ“μ νΉμ • ν¬νΈλ¥Ό κ°λ°©ν•μ—¬ μ™Έλ¶€μ—μ„ μ ‘κ·Ό κ°€λ¥ν•κ² ν•λ‹¤.
- **LoadBalancer**: ν΄λΌμ°λ“ μ κ³µμ—…μ²΄(AWS, Azure, GCP λ“±)μ λ΅λ“ λ°Έλ°μ„λ¥Ό μƒμ„±ν•μ—¬ μ™Έλ¶€ μ „μ© IPλ¥Ό ν• λ‹Ήλ°›λ”λ‹¤.

> **λ‹¤μ λ‹¨κ³„**: μ‹¤μ λ΅ μ„λΉ„μ¤λ¥Ό μƒμ„±ν•κ³  νΈλν”½μ΄ λ¶„μ‚°λλ”μ§€ ν™•μΈν•λ” μ‹¤μµμ„ μ§„ν–‰ν•λ‹¤.
